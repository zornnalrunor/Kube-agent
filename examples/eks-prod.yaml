# Example EKS Production Configuration
platform: eks
environment: production

# AWS Region
region: eu-west-1
availability_zones:
  - eu-west-1a
  - eu-west-1b
  - eu-west-1c

# Kubernetes version
kubernetes_version: "1.28"

# Node groups
node_groups:
  - name: general
    instance_type: t3.large
    min_size: 3
    max_size: 10
    desired_size: 3
    disk_size: 100
    labels:
      role: general
    
  - name: monitoring
    instance_type: t3.medium
    min_size: 2
    max_size: 4
    desired_size: 2
    disk_size: 200
    labels:
      role: monitoring
    taints:
      - key: monitoring
        value: "true"
        effect: NoSchedule

# Networking
networking:
  vpc_cidr: 10.0.0.0/16
  pod_cidr: 10.244.0.0/16
  service_cidr: 10.96.0.0/16

# Monitoring configuration
monitoring:
  enabled: true
  retention: 90d
  alerting: true
  slack_webhook: https://hooks.slack.com/services/YOUR/WEBHOOK/URL
  dashboards:
    - kubernetes-cluster
    - node-exporter
    - application-metrics
    - prometheus-stats

# Security
security:
  rbac_enabled: true
  network_policies: true
  pod_security_policy: true
  encryption_at_rest: true
  private_endpoint: false

# Addons
addons:
  metrics_server: true
  ingress_nginx: true
  cert_manager: true
  cluster_autoscaler: true
  aws_load_balancer_controller: true

# EKS specific configuration
eks_config:
  endpoint_private_access: true
  endpoint_public_access: true
  public_access_cidrs:
    - 0.0.0.0/0
  
  # Logging
  enabled_cluster_log_types:
    - api
    - audit
    - authenticator
    - controllerManager
    - scheduler
  
  # Add-ons
  enable_irsa: true  # IAM Roles for Service Accounts

# Tags
tags:
  Environment: production
  ManagedBy: terraform-k8s-agent
  Project: infrastructure
  Team: platform
